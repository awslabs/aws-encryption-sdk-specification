[//]: # "Copyright Amazon.com Inc. or its affiliates. All Rights Reserved."
[//]: # "SPDX-License-Identifier: CC-BY-SA-4.0"

# Decrypt Manifest

## Version

1.0.0

## Dependencies

This serves as a reference of all features that this feature depends on.

| Feature                                                    | Min Version | Max Version |
| ---------------------------------------------------------- | ----------- | ----------- |
| [keys-description](../mpl-test-vectors/key-description.md) | 1           | n/a         |
| [keys-manifest](../mpl-test-vectors/keys-manifest.md)      | 1           | n/a         |

## Summary

The decrypt manifest describes static test vectors.
This include all the necessary details such as keyring, cmm, encryption context,
algorithm suite, frame size, commitment policy, plaintext, etc.

## Out of Scope

This file is not a description of how the test vectors that will be generated by a compatible client should be decrypted.

## Motivation

We need a way of describing all scenarios that we want to cover with test vectors.
This will be used for generating test vectors with an unknown implementation
to be tested for compatibility using a known correct implementation.
It will also help us reason about the correctness of specific features or keyrings.
It can also be used to ensure known bad vectors or incorrect configuration cannot lead to successful decryption
by demonstrating that different configurations succeed or fail correctly.

## Guide-level Explanation

This type of manifest describes test vectors to create.
Processing these test scenarios will result in a [Decrypt Output](../../../client-apis/decrypt.md#output).

Each decryption test scenario includes all necessary instructions to construct a
[decrypt input request](../../../client-apis/decrypt.md#input).
This includes all necessary inputs including algorithm suite, encryption context, frame size, commitment policy.

## Reference-level Explanation

### Manifest

Map identifying the manifest.

- `type` : Identifies the manifest as an AWS Encryption SDK message encryption manifest.
  - MUST be `awses-encrypt`
- `version` : Identifies the version of this feature document that describes the manifest.

### Client

Map identifying the client
- `name`: Identifies the client that produced this AWS Encryption SDK message encryption manifest.
  - MUST begin with `aws-encryption-sdk`
  - MUST be suffixed with the runtime language that produced the encryption manifest
- `version`: Identifies the version of the client that produced the encryption manifest.

### Keys

URI identifying a [keys manifest](./keys-manifest.md) to use with all tests.

### Tests

Map object mapping a test case ID to a test case description
that describes how to generate a [decrypt input request](../../../client-apis/decrypt.md#input).
Optional members on [decrypt input requests](../../../client-apis/decrypt.md#input)
are optional in the test.